(window.webpackJsonp=window.webpackJsonp||[]).push([[11,13],{"3Ms0":function(e,t,r){"use strict";r.r(t);var n=r("LvDl"),i={components:{LearnerTable:r("ZeTO").default},props:{materials:{type:Array,default:function(){return[]}},measurements:{type:Array,default:function(){return[]}}},data:function(){return{form:this.$inertia.form({measurement_id:-1,required_materials:[],excluded_materials:[]},{bag:"learner_dataset",resetOnSuccess:!1})}},computed:{hasDataset:function(){return!!Object(n.get)(this.$page,"flash.dataset")},numColumns:function(){return Object(n.get)(this.$page,"flash.shape.1",0)},numRows:function(){return Object(n.get)(this.$page,"flash.shape.0",0)},requiredMaterialsOptions:function(){return this.materialsOptions(this.form.excluded_materials)},excludedMaterialsOptions:function(){return this.materialsOptions(this.form.required_materials)},canContinue:function(){return this.hasDataset&&this.numRows&&!this.form.hasErrors()}},methods:{materialsOptions:function(e){return this.materials.filter((function(t){return!e.includes(t.id)}))},getType:function(e){return e.primary?"Primary":0===e.primary?"Secondary":void 0},fetch:function(){this.form.post(route("learner.dataset"),{preserveScroll:!0,onSuccess:function(e){}})},onRemove:function(e){this.form.excluded_materials.includes(e)||this.form.excluded_materials.push(e)}}},a=r("KHd+"),s=Object(a.a)(i,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{attrs:{disabled:e.form.processing},on:{submit:function(t){return t.preventDefault(),e.fetch(t)}}},[r("v-card",[r("v-card-text",[r("v-autocomplete",{attrs:{items:e.measurements,"error-messages":e.form.error("measurement_id"),success:!!e.form.error("measurement_id"),dense:e.denser,"item-text":"name","item-value":"id",label:"Target",hint:"The target measurement to predict","persistent-hint":"",outlined:"",chips:""},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[r("v-list-item-content",[r("v-list-item-title",[e._v("\n                            "+e._s(n.name)+"\n                        ")]),e._v(" "),r("v-list-item-subtitle",[e._v("\n                            "+e._s(e.getType(n))+"\n                        ")])],1)]}}]),model:{value:e.form.measurement_id,callback:function(t){e.$set(e.form,"measurement_id",t)},expression:"form.measurement_id"}}),e._v(" "),r("v-autocomplete",{attrs:{items:e.materials,"error-messages":e.form.error("required_materials"),success:!!e.form.error("required_materials"),dense:e.denser,"item-text":"name","item-value":"id",label:"Required materials",hint:"Use only formula that contains these materials","persistent-hint":"",outlined:"",chips:"","deletable-chips":"",multiple:""},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[r("v-list-item-content",[r("v-list-item-title",[e._v("\n                            "+e._s(n.name)+"\n                        ")]),e._v(" "),r("v-list-item-subtitle",[e._v("\n                            "+e._s(n.matter.name)+"\n                        ")])],1)]}}]),model:{value:e.form.required_materials,callback:function(t){e.$set(e.form,"required_materials",t)},expression:"form.required_materials"}}),e._v(" "),r("v-autocomplete",{attrs:{items:e.materials,"error-messages":e.form.error("excluded_materials"),success:!!e.form.error("excluded_materials"),dense:e.denser,"item-text":"name","item-value":"id",label:"Excluded materials",hint:"Do not use formula that contains these materials","persistent-hint":"",outlined:"",chips:"","deletable-chips":"",multiple:""},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[r("v-list-item-content",[r("v-list-item-title",[e._v("\n                            "+e._s(n.name)+"\n                        ")]),e._v(" "),r("v-list-item-subtitle",[e._v("\n                            "+e._s(n.matter.name)+"\n                        ")])],1)]}}]),model:{value:e.form.excluded_materials,callback:function(t){e.$set(e.form,"excluded_materials",t)},expression:"form.excluded_materials"}}),e._v(" "),e.hasDataset?r("learner-table",{attrs:{"required-materials":e.form.required_materials,"num-rows":e.numRows,"num-columns":e.numColumns},on:{remove:e.onRemove}}):e._e()],1),e._v(" "),r("v-card-actions",[r("v-btn",{attrs:{type:"submit",color:"primary"}},[e.hasDataset?r("span",[e._v("RE-")]):e._e(),e._v("FILTER\n            ")]),e._v(" "),e.canContinue?r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.$emit("continue")}}},[e._v("\n                Continue\n            ")]):e._e()],1)],1)],1)}),[],!1,null,null,null);t.default=s.exports},"KHd+":function(e,t,r){"use strict";function n(e,t,r,n,i,a,s,u){var o,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=r,l._compiled=!0),n&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),s?(o=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=o):i&&(o=u?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),o)if(l.functional){l._injectStyles=o;var c=l.render;l.render=function(e,t){return o.call(t),c(e,t)}}else{var m=l.beforeCreate;l.beforeCreate=m?[].concat(m,o):[o]}return{exports:e,options:l}}r.d(t,"a",(function(){return n}))},MYbW:function(e,t,r){"use strict";var n={props:{headers:{type:Array,default:function(){return[]}},items:{type:Array,default:function(){return[]}},height:{type:[Number,String],default:null}}},i=r("KHd+"),a=Object(i.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-simple-table",{attrs:{height:e.height,"fixed-header":!!e.height,dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[r("thead",[r("tr",e._l(e.headers,(function(t){return r("th",{key:t.value,class:"text-"+t.align,style:t.width&&"width: "+t.width+"px"},[e._v("\n                    "+e._s(t.text)+"\n                ")])})),0)]),e._v(" "),r("tbody",[0==e.items.length?r("tr",[r("td",{attrs:{colspan:e.headers.length}},[e._v("\n                    No related records.\n                ")])]):e._l(e.items,(function(t,n){return r("tr",{key:t.id},e._l(e.headers,(function(i){return r("td",{key:i.value,class:"text-"+i.align},[e._t("item."+i.value,[e._v("\n                            "+e._s(t[i.value])+"\n                        ")],{item:t,index:n})],2)})),0)})),e._v(" "),e._t("footer")],2)]},proxy:!0}],null,!0)})}),[],!1,null,null,null);t.a=a.exports},ZeTO:function(e,t,r){"use strict";r.r(t);var n=r("LvDl"),i=r("MYbW");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o={props:{numRows:{type:Number,default:0},numColumns:{type:Number,default:0},requiredMaterials:{type:Array,default:function(){return[]}}},components:{TheSimpleTable:i.a},data:function(){return{headers:[{text:"No",value:"no",align:"center",width:50},{text:"Column",value:"column",align:"left"},{text:"Median",value:"median",align:"right",round:!0},{text:"Max",value:"max",align:"right",round:!0},{text:"Mean",value:"mean",align:"right",round:!0},{text:"Variance",value:"variance",align:"right",round:!0},{text:"Std. Deviation",value:"std_dev",align:"right",round:!0},{text:"Distinct",value:"distinct",align:"right"},{text:"Count",value:"count",align:"right"}],items:[]}},methods:{getFeature:function(e){return Object(n.get)(this.$page,"flash.features.".concat(e.column))},getFeatureName:function(e){return Object(n.get)(this.getFeature(e),"name","")},getFeatureNumeric:function(e,t){return Object(n.get)(this.getFeature(e),t,0)},readonly:function(e){var t=this.getFeature(e);return this.requiredMaterials.includes(t.id)},remove:function(e,t){var r=this.getFeature(e);this.items.splice(t,1),this.$emit("remove",r.id)},parseItems:function(e){var t=this;return e.map((function(e){t.getFeature(e);var r=t.headers.map((function(e){return e.value}));return Object(n.keys)(e).filter((function(e){return r.includes(e)})).reduce((function(r,n){var i=e[n],a=t.headers.find((function(e){return e.value==n}));return s(s({},r),{},u({},n,a.round?i.toFixed(2):i))}),{})}))}},watch:{"$page.flash.dataset":{deep:!0,immediate:!0,handler:function(e){this.items=this.parseItems(e)}}}},l=r("KHd+"),c=Object(l.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("fragment",[r("the-simple-table",{attrs:{headers:e.headers,items:e.items,height:"200"},scopedSlots:e._u([e._l(e.headers,(function(t){return{key:"item."+t.value,fn:function(n){var i=n.item,a=n.index;return[e._t("item."+t.value,["no"==t.value?[r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){return[!t.hover||e.readonly(i)?r("span",[e._v(e._s(a+1))]):r("v-icon",{attrs:{color:"red"},on:{click:function(t){return e.remove(i,a)}}},[e._v("\n                            mdi-close-circle-outline\n                        ")])]}}],null,!0)})]:"column"==t.value?[e._v("\n                    "+e._s(e.getFeatureName(i))+"\n                ")]:"count"==t.value?[e._v("\n                    "+e._s(e.getFeatureNumeric(i,"count"))+"\n                ")]:"distinct"==t.value?[e._v("\n                    "+e._s(e.getFeatureNumeric(i,"distinct"))+"\n                ")]:e._e()],{item:i,index:a})]}}}))],null,!0)}),e._v(" "),r("v-sheet",{staticClass:"my-5"},[r("span",[e._v("Summary: ")]),e._v(" "),r("v-chip",{attrs:{small:""}},[e._v("Used columns: "+e._s(e.numColumns))]),e._v(" "),r("v-chip",{attrs:{small:""}},[e._v("Used rows: "+e._s(e.numRows))])],1)],1)}),[],!1,null,null,null);t.default=c.exports}}]);