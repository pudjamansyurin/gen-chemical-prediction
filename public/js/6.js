(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"0bOp":function(e,t,r){"use strict";var n=r("LvDl"),o=r("LEfl"),i=r("L2JU");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={mixins:[o.a],props:{value:{type:Array,default:function(){return[]}},items:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){}}},computed:s(s({},Object(i.d)("app",["size"])),{},{selected:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}),methods:{selectedIndex:function(e){return this.selected.findIndex((function(t){return t.id===e.id}))},toggleSelect:function(e){if(e.authorized){var t=this.selectedIndex(e);t>-1?this.selected.splice(t,1):this.selected.splice(0,1,e)}}}},u=r("KHd+"),d=Object(u.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{attrs:{align:"center",justify:"center",dense:""}},e._l(e.items,(function(t){return r("v-col",{key:t.id,attrs:{cols:"12"}},[r("v-card",{directives:[{name:"longclick",rawName:"v-longclick",value:function(){return e.toggleSelect(t)},expression:"() => toggleSelect(item)"}],key:t.id,attrs:{dark:e.dark,tile:""},on:{click:function(r){e.selected.length>0&&e.toggleSelect(t)}}},[e.selectedIndex(t)>-1?r("v-progress-linear",{attrs:{value:100,dark:e.dark,color:"primary"}}):e._e(),e._v(" "),e._t("default",null,{item:t})],2)],1)})),1)}),[],!1,null,null,null).exports,f={mixins:[o.a],props:{value:{type:Array,default:function(){return[]}},headers:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){}},items:{type:Array,default:function(){return[]}},total:{type:Number,default:0},loading:{type:Boolean,default:!1}},methods:{getItemValue:function(e,t){return Object(n.get)(e,t.value)}}},p=Object(u.a)(f,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-data-table",{staticClass:"elevation-1",attrs:{value:e.value,options:e.options,headers:e.headers,items:e.items,"server-items-length":e.total,loading:e.loading,dense:e.dense,dark:e.dark,"footer-props":{itemsPerPageText:"Rows"},"selectable-key":"authorized","sort-by":"updated_at","single-select":"","sort-desc":"","show-select":"","must-sort":""},on:{input:function(t){return e.$emit("input",t)},"update:options":function(t){return e.$emit("update:options",t)}},scopedSlots:e._u([e._l(e.headers,(function(t){return{key:"item."+t.value,fn:function(r){var n=r.item;return[e._t("item."+t.value,[e._v("\n            "+e._s(e.getItemValue(n,t))+"\n        ")],{item:n})]}}}))],null,!0)})}),[],!1,null,null,null).exports,m={mixins:[o.a],props:{search:{type:String,defautl:""}},computed:{text:function(){return this.search?'No item related to "'.concat(this.search,'".'):"Oops, no data found."}}},v=Object(u.a)(m,(function(){var e=this.$createElement,t=this._self._c||e;return t("v-alert",{attrs:{dark:this.dark,type:"info",border:"left",outlined:""}},[t("span",[this._v(this._s(this.text))])])}),[],!1,null,null,null).exports,h={mixins:[o.a],props:{selected:{type:Array,default:function(){return[]}},headers:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){}},items:{type:Array,default:function(){return[]}},total:{type:Number,default:0},loading:{type:Boolean,default:!1}},components:{NoContent:v,TheDataCard:d,TheDataTable:p},methods:{updateOptions:function(e){Object(n.isEqual)(this.options,e)||this.$emit("update:options",e)}}},b=Object(u.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("fragment",[r("div",{directives:[{name:"show",rawName:"v-show",value:e.items.length>0,expression:"items.length > 0"}]},[e.mobile?r("the-data-card",{attrs:{value:e.selected,options:e.options,items:e.items},on:{input:function(t){return e.$emit("update:selected",t)},"update:options":e.updateOptions},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[e._t("card",null,{item:r})]}}],null,!0)}):r("the-data-table",{attrs:{value:e.selected,options:e.options,items:e.items,headers:e.headers,total:e.total,loading:e.loading},on:{input:function(t){return e.$emit("update:selected",t)},"update:options":e.updateOptions},scopedSlots:e._u([e._l(e.headers,(function(t){return{key:"item."+t.value,fn:function(r){var n=r.item;return[e._t("item."+t.value,null,{item:n})]}}}))],null,!0)})],1),e._v(" "),r("no-content",{directives:[{name:"show",rawName:"v-show",value:0==e.items.length,expression:"items.length == 0"}],attrs:{search:e.options.search}})],1)}),[],!1,null,null,null);t.a=b.exports},BCEB:function(e,t,r){"use strict";r.r(t);var n=r("L2JU"),o=r("LEfl"),i=r("xgmY"),a=r("Wxha");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={mixins:[o.a],props:{value:{type:Boolean,default:!1},selected:{type:Array,default:function(){return[]}}},components:{TheDialogConfirmation:a.a},data:function(){return{model:"user",form:this.$inertia.form({_method:"DELETE",ids:[]},{bag:"user_delete"})}},computed:{dialog:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:l(l({},Object(n.c)("app",[i.b])),{},{remove:function(){var e=this;this.form.ids=this.selected.map((function(e){return e.id}))[0],this.form.post(route("user.destroy",this.form.ids),{preserveScroll:!0,onSuccess:function(t){e.form.hasErrors()?e.SET_MESSAGE({type:"error",text:e.form.error("ids")}):(e.$emit("update:selected",[]),e.dialog=!1)}})}})},d=r("KHd+"),f=Object(d.a)(u,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("the-dialog-confirmation",{attrs:{disabled:e.form.processing},on:{confirmed:e.remove},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Delete confirmation")]},proxy:!0},{key:"content",fn:function(){return[r("p",[e._v("Are you sure to delete?")]),e._v(" "),e._l(e.selected,(function(t){return r("v-chip",{key:t.id,staticClass:"ma-1"},[e._v("\n            "+e._s(t.name)+"\n        ")])}))]},proxy:!0}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}})}),[],!1,null,null,null);t.default=f.exports},MMcg:function(e,t,r){"use strict";var n={mixins:[r("LEfl").a],props:{value:{type:Boolean,default:!1},title:{type:String,default:"Detail Item"},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},width:{type:[String,Number],default:600},tabs:{type:Array,default:function(){return[]}},tab:{type:Number,default:0}},data:function(){return{fullscreen:!0}},computed:{cardTextHeight:function(){if(!this.mobile&&!this.fullscreen)return"max-height: 500px;"},iconFullscreen:function(){return this.fullscreen?"mdi-fullscreen-exit":"mdi-fullscreen"}}},o=r("KHd+"),i=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{value:e.value,fullscreen:e.mobile||e.fullscreen,"max-width":e.width,dark:e.dark,persistent:"",scrollable:""},on:{input:function(t){return e.$emit("input",t)}}},[r("v-card",{attrs:{loading:e.disabled}},[r("v-card-title",[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12",sm:"5"}},[r("span",{staticClass:"headline"},[e._v(e._s(e.title))]),e._v(" "),e.mobile?e._e():r("v-btn",{attrs:{icon:""},on:{click:function(t){e.fullscreen=!e.fullscreen}}},[r("v-icon",[e._v(e._s(e.iconFullscreen))])],1)],1),e._v(" "),e.tabs.length>0?r("v-col",{attrs:{cols:"12",sm:"7"}},[r("v-tabs",{attrs:{value:e.tab,"background-color":"transparent","active-class":"font-weight-bold",height:"30","hide-slider":"",right:""},on:{change:function(t){return e.$emit("update:tab",t)}}},e._l(e.tabs,(function(t){return r("v-tab",{key:t},[e._v("\n                            "+e._s(t)+"\n                        ")])})),1)],1):e._e()],1)],1),e._v(" "),r("v-divider"),e._v(" "),r("v-card-text",{staticClass:"py-5",style:e.cardTextHeight},[e.tabs.length>0?r("v-tabs-items",{attrs:{value:e.tab,dark:e.dark,touchless:""},on:{input:function(t){return e.$emit("update:tab",t)}}},e._l(e.tabs,(function(t){return r("v-tab-item",{key:t},[e._t(t)],2)})),1):e._t("default")],2),e._v(" "),r("v-divider"),e._v(" "),r("v-card-actions",[r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.$emit("input",!1)}}},[e._v("\n                Cancel\n            ")]),e._v(" "),r("v-spacer"),e._v(" "),e.readonly?e._e():r("v-btn",{attrs:{disabled:e.disabled,color:"primary"},on:{click:function(t){return e.$emit("submit")}}},[e._v("\n                Save\n            ")])],1)],1)],1)}),[],!1,null,null,null);t.a=i.exports},"U/gR":function(e,t,r){"use strict";r.r(t);var n=r("LvDl"),o=r("LEfl"),i=r("0bOp"),a={mixins:[o.a,o.d],props:{selected:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){}},items:{type:Array,default:function(){return[]}},total:{type:Number,default:0}},data:function(){return{fetching:!1,headers:[{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Role",value:"role.name",sortable:!1},{text:"UpdatedAt",value:"updated_at"}]}},components:{TheData:i.a},methods:{me:function(e){var t=e.id;return this.$page.profile.id===t},chip:function(e){return this.me(e)?"primary":"green"},edit:function(e){this.$emit("edit",e.id)}},watch:{options:{handler:Object(n.debounce)((function(e){var t=this;this.$inertia.replace(route(route().current(),Object(n.omit)(e,["groupBy","groupDesc","mustSort","multiSort","mine"])),{preserveScroll:!0,onStart:function(e){return t.fetching=!0},onFinish:function(){return t.fetching=!1},only:["status","items","total"]})}),500)}}},s=r("KHd+"),l=Object(s.a)(a,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("the-data",{attrs:{selected:e.selected,options:e.options,headers:e.headers,total:e.total,items:e.items,loading:e.fetching},on:{"update:selected":function(t){return e.$emit("update:selected",t)},"update:options":function(t){return e.$emit("update:options",t)}},scopedSlots:e._u([{key:"item.name",fn:function(t){var n=t.item;return[r("v-chip",{attrs:{color:e.chip(n),small:e.dense,dark:""},on:{click:function(t){!e.me(n)&&e.edit(n)}}},[e._v("\n            "+e._s(n.name)+"\n        ")])]}},{key:"item.email",fn:function(t){var n=t.item;return[e._v("\n        "+e._s(n.email)+"\n        "),n.verified?r("v-icon",{attrs:{color:"green"}},[e._v("\n            mdi-check-decagram\n        ")]):e._e()]}},{key:"item.updated_at",fn:function(t){var r=t.item;return[e._v("\n        "+e._s(e._f("moment")(r.updated_at,"from"))+"\n    ")]}},{key:"card",fn:function(t){var n=t.item;return[r("v-btn",{attrs:{color:e.chip(n),outlined:"",absolute:"",right:"",small:"",tile:"",top:""}},[e._v("\n            "+e._s(e.me(n)?"Profile":n.role.name)+"\n        ")]),e._v(" "),r("v-card-text",{on:{click:function(t){!e.me(n)&&e.edit(n)}}},[r("div",{staticClass:"overline"},[e._v("\n                "+e._s(e._f("moment")(n.updated_at,"from"))+"\n            ")]),e._v(" "),r("div",{staticClass:"overline"},[e._v("\n                "+e._s(n.name)+"\n            ")]),e._v(" "),r("div",{staticClass:"subtitle-2 font-weight-bold"},[e._v("\n                "+e._s(n.email)+"\n                "),n.verified?r("v-icon",{attrs:{color:"green"}},[e._v("\n                    mdi-check-decagram\n                ")]):e._e()],1)])]}}],null,!0)})}),[],!1,null,null,null);t.default=l.exports},Wxha:function(e,t,r){"use strict";var n={mixins:[r("LEfl").a],props:{value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{cardTextHeight:function(){return this.mobile?"":"max-height: 400px;"}}},o=r("KHd+"),i=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{value:e.value,fullscreen:e.mobile,dark:e.dark,"max-width":"500",persistent:"",scrollable:""},on:{input:function(t){return e.$emit("input",t)}}},[r("v-card",{attrs:{loading:e.disabled}},[r("v-card-title",[e._t("title")],2),e._v(" "),r("v-divider"),e._v(" "),r("v-card-text",{staticClass:"pt-2",style:e.cardTextHeight},[e._t("content")],2),e._v(" "),r("v-divider"),e._v(" "),r("v-card-actions",[r("v-btn",{attrs:{color:"darken-1",text:""},on:{click:function(t){return e.$emit("input",!1)}}},[e._v("\n                Cancel\n            ")]),e._v(" "),r("v-spacer"),e._v(" "),r("v-btn",{attrs:{disabled:e.disabled,color:"red"},on:{click:function(t){return e.$emit("confirmed")}}},[r("span",{staticClass:"white--text"},[e._v("Yes, sure")])])],1)],1)],1)}),[],!1,null,null,null);t.a=i.exports},sDRw:function(e,t,r){"use strict";r.r(t);var n=r("2bGR"),o=r("5xhC"),i=r("/yGT"),a=r("U/gR"),s=r("v7k/"),l=r("BCEB"),c={layout:o.a,components:{AppTopBar:i.a,UserList:a.default,UserForm:s.default,UserDelete:l.default},props:["items","total","roles"],data:function(){return{model:"user",id:-1,selected:[],dialogForm:!1,dialogDelete:!1,options:Object(n.b)(n.a)}},methods:{onCreate:function(){this.id=-1,this.dialogForm=!0},onEdit:function(e){0===this.selected.length&&(this.id=e,this.dialogForm=!0)},onDelete:function(){this.dialogDelete=!0}}},u=r("KHd+"),d=Object(u.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("fragment",[r("app-top-bar",{attrs:{selected:e.selected,options:e.options,"page-title":e.model.toUpperCase()},on:{"update:selected":function(t){e.selected=t},"update:options":function(t){e.options=t},create:e.onCreate,delete:e.onDelete}}),e._v(" "),r("user-list",{attrs:{selected:e.selected,options:e.options,total:e.total,items:e.items},on:{"update:selected":function(t){e.selected=t},"update:options":function(t){e.options=t},edit:e.onEdit}}),e._v(" "),r("user-form",{attrs:{id:e.id,roles:e.roles},model:{value:e.dialogForm,callback:function(t){e.dialogForm=t},expression:"dialogForm"}}),e._v(" "),r("user-delete",{attrs:{selected:e.selected},on:{"update:selected":function(t){e.selected=t}},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}})],1)}),[],!1,null,null,null);t.default=d.exports},"v7k/":function(e,t,r){"use strict";r.r(t);var n=r("LvDl"),o=r("y1zv"),i=r("LEfl"),a=r("MMcg");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={mixins:[i.a,i.d],props:{value:{type:Boolean,default:!1},id:{type:Number,default:-1},roles:{type:Array,default:function(){return[]}}},components:{TheDialogForm:a.a},data:function(){return{model:"user",fetching:!1,form:this.$inertia.form(l({_method:"PUT"},Object(n.cloneDeep)(o.e)),{bag:"user_form",resetOnSuccess:!1})}},computed:{creating:function(){return-1===this.id},disabled:function(){return this.form.processing||this.fetching},readonly:function(){return!(this.creating||this.form.authorized)},formTitle:function(){if(!this.readonly){var e=this.creating?"New":"Edit",t=this.model.toUpperCase();return"".concat(e," ").concat(t)}},dialog:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{fetch:function(){var e=this;this.fetching=!0,this.$axios.get(route("user.show",this.id).url()).then((function(t){var r=t.data;Object(n.assign)(e.form,Object(n.pick)(r,Object(n.keys)(o.e)))})).catch((function(t){return e.dialog=!1})).then((function(){return e.fetching=!1}))},reset:function(){delete this.$page.errorBags.user_form,Object(n.assign)(this.form,o.e)},method:function(){var e="post",t=route("user.store");return this.creating||(e="put",t=route("user.update",this.id)),{url:t,method:e}},save:function(){var e=this,t=this.method(),r=t.url,n=t.method;this.form._method=n,this.form.post(r,{preserveScroll:!0,onSuccess:function(t){e.form.hasErrors()||(e.dialog=!1)}})}},watch:{value:{immediate:!0,handler:function(e){e?(this.creating||this.fetch(),this.form.change_password=this.creating):this.reset()}}}},d=r("KHd+"),f=Object(d.a)(u,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("the-dialog-form",{attrs:{title:e.formTitle,disabled:e.disabled,readonly:e.readonly},on:{submit:e.save},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-form",{attrs:{disabled:e.disabled||e.readonly},on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[r("v-text-field",{attrs:{"error-messages":e.form.error("name"),success:!!e.form.error("name"),autofocus:!e.mobile,label:"Name",type:"text",hint:"This should be unique name","persistent-hint":"",outlined:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e._v(" "),r("v-text-field",{attrs:{"error-messages":e.form.error("email"),success:!!e.form.error("email"),label:"E-mail",type:"email",hint:"This email is for recovery","persistent-hint":"",outlined:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),e._v(" "),r("v-autocomplete",{attrs:{items:e.roles,"error-messages":e.form.error("role_id"),success:!!e.form.error("role_id"),"item-text":"name","item-value":"id",label:"Role",hint:"Role for this user",chips:"","persistent-hint":"",outlined:""},model:{value:e.form.role_id,callback:function(t){e.$set(e.form,"role_id",t)},expression:"form.role_id"}}),e._v(" "),e.creating?e._e():r("v-checkbox",{attrs:{"append-icon":e.form.change_password?e.passwordState.icon:"",label:"Change password"},on:{"click:append":function(t){e.form.change_password&&(e.showPassword=!e.showPassword)}},model:{value:e.form.change_password,callback:function(t){e.$set(e.form,"change_password",t)},expression:"form.change_password"}}),e._v(" "),e.form.change_password?[r("v-text-field",{attrs:{type:e.passwordState.type,"error-messages":e.form.error("password"),success:!!e.form.error("password"),label:"Password",hint:"Password for this user",autocomplete:"off","persistent-hint":"",outlined:"",counter:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e._v(" "),r("v-text-field",{attrs:{type:e.passwordState.type,"error-messages":e.form.error("password_confirmation"),success:!!e.form.error("password_confirmation"),label:"Password Confirmation",hint:"Fill again the password",autocomplete:"off","persistent-hint":"",outlined:"",counter:""},model:{value:e.form.password_confirmation,callback:function(t){e.$set(e.form,"password_confirmation",t)},expression:"form.password_confirmation"}})]:e._e(),e._v(" "),e.readonly?e._e():r("v-btn",{staticClass:"d-none",attrs:{disabled:e.disabled,type:"submit"}})],2)],1)}),[],!1,null,null,null);t.default=f.exports}}]);