(window.webpackJsonp=window.webpackJsonp||[]).push([[3,14,20,21,22,23],{"5xhC":function(e,t,n){"use strict";var r=n("L2JU"),i=n("qRYQ"),a=n("xgmY");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={data:function(){return{snackbar:!1,timeout:2e3}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.d)("app",["message"])),created:function(){var e=this;this.$store.subscribe((function(t,n){t.type===Object(i.d)("app",a.b)&&e.message.text&&(e.snackbar=!0)}))}},u=n("KHd+"),c=Object(u.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-snackbar",{attrs:{color:e.message.type,timeout:e.timeout,top:"",right:""},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{icon:"",dark:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",r,!1),[n("v-icon",[e._v("mdi-close-circle")])],1)]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[n("v-icon",[e._v("mdi-bell")]),e._v(" "),n("i",[e._v(e._s(e.message.text))])],1)}),[],!1,null,null,null).exports;function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.b)("app",["isLoading"]))},v={components:{AppOverlayIndicator:Object(u.a)(f,(function(){var e=this.$createElement,t=this._self._c||e;return t("v-overlay",{attrs:{value:this.isLoading,"z-index":"999"}},[t("v-progress-circular",{attrs:{indeterminate:"",size:"64",color:"white"}})],1)}),[],!1,null,null,null).exports}},p=Object(u.a)(v,(function(){var e=this.$createElement,t=this._self._c||e;return t("v-main",{class:this.darker?"black":"grey lighten-3"},[t("v-container",{attrs:{fluid:""}},[this._t("default"),this._v(" "),t("app-overlay-indicator")],2)],1)}),[],!1,null,null,null).exports,b=n("LEfl"),_={mixins:[b.b],computed:{items:function(){return this.navs.filter((function(e){var t=e.bottomNav,n=e.children;return!!t||!!n})).map((function(e){return e.children?e.children.find((function(e){return!!e.bottomNav})):e}))}}},y=Object(u.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-bottom-navigation",{attrs:{dark:e.darker,color:"primary",app:""}},e._l(e.items,(function(t,r){return n("v-btn",{key:r,attrs:{"input-value":e.active(t.to)},on:{click:function(n){return e.goto(t.to)}}},[n("span",[e._v(e._s(t.text))]),e._v(" "),n("v-icon",[e._v(e._s(t.icon))])],1)})),1)}),[],!1,null,null,null).exports;function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j={mixins:[b.b],computed:g(g({},Object(r.d)("app",["drawer"])),{},{mini:function(){return!this.drawer&&this.$vuetify.breakpoint.lgAndUp}}),methods:g({},Object(r.c)("app",[a.a]))},x=Object(u.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{attrs:{value:e.drawer||e.$vuetify.breakpoint.lgAndUp,"mini-variant":e.mini,dark:e.darker,app:""},on:{input:e.SET_DRAWER}},[n("v-list",{staticClass:"py-0"},[e.$page.profile.id>-1?n("v-list-item",{attrs:{"input-value":e.active("profile.show"),color:"primary",link:"","two-line":""},on:{click:function(t){return e.goto("profile.show")}}},[n("v-list-item-action",[e.mini?n("v-tooltip",{attrs:{"nudge-right":"12",right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("v-icon",e._g(e._b({},"v-icon",i,!1),r),[e._v("\n                            mdi-face-profile\n                        ")])]}}],null,!1,1160482933)},[e._v(" "),n("span",[e._v("Profile")])]):n("v-icon",[e._v("mdi-face-profile")])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",{staticClass:"title"},[e._v("\n                    "+e._s(e.$page.profile.name)+"\n                ")]),e._v(" "),n("v-list-item-subtitle",[e._v("\n                    "+e._s(e.$page.profile.email)+"\n                ")])],1),e._v(" "),n("v-list-item-action",[n("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("v-btn",e._g(e._b({attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.logout()}}},"v-btn",i,!1),r),[n("v-icon",{on:{click:function(t){return t.stopPropagation(),e.logout()}}},[e._v("mdi-logout-variant")])],1)]}}],null,!1,2175860179)},[e._v("\n                    Logout\n                ")])],1)],1):e._e(),e._v(" "),n("v-divider"),e._v(" "),e._l(e.navs,(function(t,r){return[t.heading?[e.drawer?n("v-subheader",{key:r},[e._v("\n                    "+e._s(t.heading)+"\n                ")]):e._e()]:t.divider?n("v-divider",{key:r}):t.children?n("v-list-group",{key:r,attrs:{color:"primary"},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-action",[e.mini?n("v-tooltip",{attrs:{"nudge-right":"12",right:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,a=r.attrs;return[n("v-icon",e._g(e._b({},"v-icon",a,!1),i),[e._v("\n                                    "+e._s(t.icon)+"\n                                ")])]}}],null,!0)},[e._v(" "),n("span",[e._v(e._s(t.text))])]):n("v-icon",[e._v("\n                            "+e._s(t.icon)+"\n                        ")])],1),e._v(" "),n("v-list-item-title",[e._v("\n                        "+e._s(t.text)+"\n                    ")])]},proxy:!0}],null,!0),model:{value:t.model,callback:function(n){e.$set(t,"model",n)},expression:"item.model"}},[e._v(" "),e._l(t.children,(function(t,r){return n("v-list-item",{key:r,attrs:{"input-value":e.active(t.to),dark:e.darker,link:""},on:{click:function(n){return e.goto(t.to)}}},[n("v-list-item-action",[e.mini?n("v-tooltip",{attrs:{"nudge-right":"12",right:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,a=r.attrs;return[n("v-icon",e._g(e._b({},"v-icon",a,!1),i),[e._v("\n                                    "+e._s(t.icon)+"\n                                ")])]}}],null,!0)},[e._v(" "),n("span",[e._v(e._s(t.text))])]):e._e()],1),e._v(" "),n("v-list-item-title",[e._v("\n                        "+e._s(t.text)+"\n                    ")]),e._v(" "),t.icon?n("v-list-item-action",[n("v-icon",[e._v(e._s(t.icon))])],1):e._e()],1)}))],2):n("v-list-item",{key:r,attrs:{"input-value":e.active(t.to),color:"primary",link:""},on:{click:function(n){return e.goto(t.to)}}},[n("v-list-item-action",[e.mini?n("v-tooltip",{attrs:{"nudge-right":"12",right:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,a=r.attrs;return[n("v-icon",e._g(e._b({},"v-icon",a,!1),i),[e._v("\n                                "+e._s(t.icon)+"\n                            ")])]}}],null,!0)},[e._v(" "),n("span",[e._v(e._s(t.text))])]):n("v-icon",[e._v("\n                        "+e._s(t.icon)+"\n                    ")])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.text))])],1)],1)]}))],2)],1)}),[],!1,null,null,null).exports,k={mixins:[b.a]};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D={components:{AppContainer:p,AppBottomNav:y,AppLeftDrawer:x,TheSnackBar:c,FullscreenConfirmation:Object(u.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.mobile&&!e.webview?n("v-dialog",{attrs:{"max-width":"290"},model:{value:e.dialogFullscreen,callback:function(t){e.dialogFullscreen=t},expression:"dialogFullscreen"}},[n("v-card",{attrs:{dark:e.darker}},[n("v-card-title",{staticClass:"headline"},[e._v(" Use fullscreen? ")]),e._v(" "),n("v-card-text",[e._v("\n            You are using small device screen, we can help you navigate\n            easier using fullscreen mode.\n        ")]),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.confirmFullscreen(!1)}}},[e._v("\n                No\n            ")]),e._v(" "),n("v-btn",{attrs:{color:"green",dark:""},on:{click:function(t){return e.confirmFullscreen(!0)}}},[e._v("\n                Yes\n            ")])],1)],1)],1):e._e()}),[],!1,null,null,null).exports},methods:P(P({},Object(r.c)("app",[a.c,a.b])),{},{onResize:function(){this.SET_SIZE({width:window.innerWidth,height:window.innerHeight})}}),watch:{$page:{immediate:!0,handler:function(e){console.warn("Inertia",e),e.status&&this.SET_MESSAGE({type:"info",text:e.status})}}},mounted:function(){this.onResize()}},S=Object(u.a)(D,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}]},[n("app-left-drawer"),e._v(" "),e.mobile?n("app-bottom-nav"):e._e(),e._v(" "),n("app-container",[e._t("default")],2),e._v(" "),n("the-snack-bar"),e._v(" "),n("fullscreen-confirmation")],1)}),[],!1,null,null,null);t.a=S.exports},"7TKc":function(e,t,n){"use strict";n.r(t);var r={mixins:[n("mJJU").a]},i=n("KHd+"),a=Object(i.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("the-dialog-confirmation",{attrs:{disabled:e.form.processing},on:{confirmed:e.remove},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Delete confirmation")]},proxy:!0},{key:"content",fn:function(){return[n("p",[e._v("Are you sure to delete?")]),e._v(" "),e._l(e.selected,(function(t){return n("v-chip",{key:t.id,staticClass:"ma-1"},[e._v("\n      "+e._s(t.name)+"\n    ")])}))]},proxy:!0}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}})}),[],!1,null,null,null);t.default=a.exports},J6Tw:function(e,t,n){"use strict";n.r(t);var r={mixins:[n("mJJU").e],data:function(){return{headers:[{text:"Name",value:"name"},{text:"Material",value:"materials_count",align:"center"},{text:"Measurement",value:"measurements_count",align:"center"},{text:"Creator",value:"user.name"},{text:"UpdatedAt",value:"updated_at"}]}}},i=n("KHd+"),a=Object(i.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("the-data",{attrs:{selected:e.selected,options:e.options,headers:e.headers,total:e.total,items:e.items,"can-create":e.canCreate,loading:e.fetching},on:{"update:selected":function(t){return e.$emit("update:selected",t)},"update:options":function(t){return e.$emit("update:options",t)}},scopedSlots:e._u([{key:"item.name",fn:function(t){var r=t.item;return[n("v-chip",{attrs:{color:e.chip(r),small:e.denser,dark:""},on:{click:function(t){return e.edit(r)}}},[e._v("\n      "+e._s(r.name)+"\n    ")])]}},{key:"item.updated_at",fn:function(t){var n=t.item;return[e._v("\n    "+e._s(e._f("moment")(n.updated_at,"from"))+"\n  ")]}},{key:"card",fn:function(t){var r=t.item;return[n("v-btn",{attrs:{color:e.chip(r),absolute:"",right:"",small:"",tile:"",top:""}},[e._v("\n      "+e._s(r.user.name)+"\n    ")]),e._v(" "),n("v-card-text",{on:{click:function(t){return e.edit(r)}}},[n("div",{staticClass:"overline"},[e._v("\n        "+e._s(e._f("moment")(r.updated_at,"from"))+"\n      ")]),e._v(" "),n("div",{staticClass:"subtitle-2 font-weight-bold"},[e._v("\n        "+e._s(r.name)+"\n      ")]),e._v(" "),n("div",{staticClass:"text-justify"},[e._v("\n        "+e._s(r.note)+"\n      ")])])]}}],null,!0)})}),[],!1,null,null,null);t.default=a.exports},"MQ/m":function(e,t,n){"use strict";n.r(t);var r=n("mJJU"),i=n("k0WU"),a=n("eyW1"),o={mixins:[r.c],components:{FieldMaterial:i.default,FieldMeasurement:a.default},props:{matters:{type:Array,default:function(){return[]}},materials:{type:Array,default:function(){return[]}},measurements:{type:Array,default:function(){return[]}}}},l=n("KHd+"),s=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("the-dialog-form",{attrs:{title:e.formTitle,disabled:e.disabled,readonly:e.readonly},on:{submit:e.save},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-form",{attrs:{disabled:e.disabled,readonly:e.readonly},on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[n("v-text-field",{attrs:{"error-messages":e.form.error("name"),success:!!e.form.error("name"),autofocus:!e.mobile,dense:e.denser,label:"Formula name",type:"text",hint:"This should be unique name","persistent-hint":"",outlined:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e._v(" "),n("v-textarea",{attrs:{"error-messages":e.form.error("note"),success:!!e.form.error("note"),dense:e.denser,label:"Formula note",type:"text",hint:"Just for documentation","row-height":"2","persistent-hint":"",outlined:"","auto-grow":""},model:{value:e.form.note,callback:function(t){e.$set(e.form,"note",t)},expression:"form.note"}}),e._v(" "),n("field-material",{staticClass:"mb-5",attrs:{form:e.form,disabled:e.disabled,readonly:e.readonly,matters:e.matters,materials:e.materials},on:{"update:form":function(t){e.form=t}}}),e._v(" "),n("field-measurement",{staticClass:"mb-5",attrs:{form:e.form,disabled:e.disabled,readonly:e.readonly,measurements:e.measurements},on:{"update:form":function(t){e.form=t}}}),e._v(" "),e.readonly?e._e():n("v-btn",{staticClass:"d-none",attrs:{disabled:e.disabled,type:"submit"}})],1)],1)}),[],!1,null,null,null);t.default=s.exports},VJmB:function(e,t,n){"use strict";n.r(t);var r=n("5xhC"),i=n("mJJU"),a=n("y1zv"),o=n("J6Tw"),l=n("MQ/m"),s=n("7TKc"),u={mixins:[i.d],layout:r.a,components:{FormulaList:o.default,FormulaForm:l.default,FormulaDelete:s.default},props:["matters","materials","measurements"],data:function(){return{model:a.b}}},c=n("KHd+"),d=Object(c.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("fragment",[n("app-top-bar",{attrs:{selected:e.selected,options:e.options,"can-create":e.canCreate,"page-title":e.model.name.toUpperCase()},on:{"update:selected":function(t){e.selected=t},"update:options":function(t){e.options=t},create:e.onCreate,delete:e.onDelete}}),e._v(" "),n("formula-list",{attrs:{selected:e.selected,options:e.options,total:e.total,items:e.items,"can-create":e.canCreate},on:{"update:selected":function(t){e.selected=t},"update:options":function(t){e.options=t},edit:e.onEdit}}),e._v(" "),n("formula-form",{attrs:{model:e.model,id:e.id,matters:e.matters,materials:e.materials,measurements:e.measurements},model:{value:e.dialogForm,callback:function(t){e.dialogForm=t},expression:"dialogForm"}}),e._v(" "),n("formula-delete",{attrs:{model:e.model,selected:e.selected},on:{"update:selected":function(t){e.selected=t}},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}})],1)}),[],!1,null,null,null);t.default=d.exports},eyW1:function(e,t,n){"use strict";n.r(t);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o={mixins:[n("mJJU").b],props:{measurements:{type:Array,default:function(){return[]}}},data:function(){return{field:"measurements",headers:[{text:"No",value:"no",align:"center",width:8},{text:"Measurement",value:"name",align:"left"},{text:"Type",value:"type",align:"left",width:200},{text:"Value",value:"value",align:"right",width:150}]}},methods:{add:function(){this._form[this.field].push({id:-1,value:null,name:"",primary:null})},change:function(e,t){this._form[this.field].splice(e,1,i(i({},this._form[this.field][e]),{},{id:t.id,name:t.name,primary:t.primary}))},getType:function(e){return e.primary?"Primary":0===e.primary?"Secondary":void 0}},watch:{"_form.measurements.length":{immediate:!0,handler:function(e){0==e&&this.add()}}}},l=n("KHd+"),s=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("the-simple-data",{attrs:{headers:e.headers,form:e._form,field:"measurements","disable-add":e.disableAdd,disabled:e.disabled,readonly:e.readonly},on:{add:e.add,remove:e.remove},scopedSlots:e._u([{key:"item.name",fn:function(t){var r=t.item,i=t.index;return[n("v-autocomplete",{attrs:{value:r.id,items:e.list(r),"error-messages":e._form.error("measurements."+i+".id"),success:!!e._form.error("measurements."+i+".id"),"item-text":"name","item-value":"id","hide-details":"auto",flat:"",outlined:"",dense:"","return-object":""},on:{change:function(t){return e.change(i,t)}},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.item;return[n("v-list-item-content",[n("v-list-item-title",[e._v("\n            "+e._s(r.name)+"\n          ")]),e._v(" "),n("v-list-item-subtitle",[e._v("\n            "+e._s(e.getType(r))+"\n          ")])],1)]}}],null,!0)})]}},{key:"item.type",fn:function(t){var n=t.item;return[e._v("\n    "+e._s(e.getType(n)||"-")+"\n  ")]}},{key:"item.value",fn:function(t){var r=t.item,i=t.index;return[n("v-text-field",{attrs:{"error-messages":e._form.error("measurements."+i+".value"),success:!!e._form.error("measurements."+i+".value"),type:"number","hide-details":"auto",reverse:"",flat:"",outlined:"",dense:""},model:{value:r.value,callback:function(t){e.$set(r,"value",e._n(t))},expression:"item.value"}})]}}],null,!0)})}),[],!1,null,null,null);t.default=s.exports},k0WU:function(e,t,n){"use strict";n.r(t);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o={mixins:[n("mJJU").b],props:{materials:{type:Array,default:function(){return[]}},matters:{type:Array,default:function(){return[]}}},data:function(){return{field:"materials",headers:[{text:"No",value:"no",align:"center",width:8},{text:"Material",value:"name",align:"left"},{text:"Type",value:"type",align:"left",width:200},{text:"Portion",value:"value",align:"right",width:150}]}},computed:{portionTotal:function(){return this._form[this.field].reduce((function(e,t){var n=t.value;return e+Number(n)}),0)}},methods:{add:function(){this._form[this.field].push({id:-1,value:null,name:"",matter_id:-1})},change:function(e,t){this._form[this.field].splice(e,1,i(i({},this._form[this.field][e]),{},{id:t.id,name:t.name,matter_id:t.matter_id}))},getMatterName:function(e){var t=this.matters.find((function(t){return t.id===e.matter_id}));if(t)return t.name}},watch:{"_form.materials.length":{immediate:!0,handler:function(e){0==e&&this.add()}}}},l=n("KHd+"),s=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("the-simple-data",{attrs:{headers:e.headers,form:e._form,field:"materials","disable-add":e.disableAdd,disabled:e.disabled,readonly:e.readonly},on:{add:e.add,remove:e.remove},scopedSlots:e._u([{key:"item.name",fn:function(t){var r=t.item,i=t.index;return[n("v-autocomplete",{attrs:{value:r.id,items:e.list(r),"error-messages":e._form.error("materials."+i+".id"),success:!!e._form.error("materials."+i+".id"),"item-text":"name","item-value":"id","hide-details":"auto",flat:"",outlined:"",dense:"","return-object":""},on:{change:function(t){return e.change(i,t)}},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.item;return[n("v-list-item-content",[n("v-list-item-title",[e._v("\n            "+e._s(r.name)+"\n          ")]),e._v(" "),n("v-list-item-subtitle",[e._v("\n            "+e._s(e.getMatterName(r))+"\n          ")])],1)]}}],null,!0)})]}},{key:"item.type",fn:function(t){var n=t.item;return[e._v("\n    "+e._s(e.getMatterName(n)||"-")+"\n  ")]}},{key:"item.value",fn:function(t){var r=t.item,i=t.index;return[n("v-text-field",{attrs:{"error-messages":e._form.error("materials."+i+".value"),success:!!e._form.error("materials."+i+".value"),type:"number",prefix:"%","hide-details":"auto",reverse:"",flat:"",outlined:"",dense:""},model:{value:r.value,callback:function(t){e.$set(r,"value",e._n(t))},expression:"item.value"}})]}},{key:"footer-table",fn:function(){return[n("tr",{staticClass:"font-weight-bold"},[n("td",{staticClass:"text-right",attrs:{colspan:e.headers.length-1}},[e._v("TOTAL")]),e._v(" "),n("td",{staticClass:"text-right"},[n("v-text-field",{attrs:{value:e.portionTotal,"error-messages":e._form.error("materials.value"),success:!!e._form.error("materials.value"),type:"text",prefix:"%","hide-details":"auto",readonly:"",reverse:"",flat:"",solo:"",dense:""}})],1)])]},proxy:!0},{key:"footer-iterator",fn:function(){return[n("v-list-item",{staticClass:"font-weight-bold"},[n("v-list-item-content",[e._v("Total")]),e._v(" "),n("v-list-item-content",{staticClass:"align-end justify-end"},[n("v-text-field",{attrs:{value:e.portionTotal,"error-messages":e._form.error("materials.value"),success:!!e._form.error("materials.value"),type:"text",prefix:"%","hide-details":"auto",readonly:"",reverse:"",flat:"",solo:"",dense:""}})],1)],1)]},proxy:!0}],null,!0)})}),[],!1,null,null,null);t.default=s.exports},y1zv:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return s}));var r={name:"user",form:{id:-1,name:"",email:"",role_id:-1,role:{id:-1,name:""},password:"",password_confirmation:"",change_password:null,authorized:null}},i={name:"estimator",form:{id:-1,name:"",desc:"",steps:null,ranked:null,authorized:null}},a={name:"matter",form:{id:-1,name:"",required:null,authorized:null}},o={name:"material",form:{id:-1,name:"",matter_id:-1,authorized:null}},l={name:"measurement",form:{id:-1,name:"",primary:null,authorized:null}},s={name:"formula",form:{id:-1,name:"",note:"",materials:[],measurements:[],authorized:null}}}}]);