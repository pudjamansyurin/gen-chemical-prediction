(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"04Lc":function(t,e,n){"use strict";n.r(e);var r=n("2bGR"),i=n("5xhC"),a=n("/yGT"),o=n("tVlB"),l=n("1rD6"),s=n("gfFP"),u={layout:i.a,components:{AppTopBar:a.a,MaterialList:o.default,MaterialForm:l.default,MaterialDelete:s.default},props:["items","total","matters"],data:function(){return{model:"material",id:-1,selected:[],dialogForm:!1,dialogDelete:!1,options:Object(r.b)(r.a)}},methods:{onCreate:function(){this.id=-1,this.dialogForm=!0},onEdit:function(t){0===this.selected.length&&(this.id=t,this.dialogForm=!0)},onDelete:function(){this.dialogDelete=!0}}},c=n("KHd+"),d=Object(c.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("fragment",[n("app-top-bar",{attrs:{selected:t.selected,options:t.options,"page-title":t.model.toUpperCase(),"mine-tab":""},on:{"update:selected":function(e){t.selected=e},"update:options":function(e){t.options=e},create:t.onCreate,delete:t.onDelete}}),t._v(" "),n("material-list",{attrs:{selected:t.selected,options:t.options,total:t.total,items:t.items},on:{"update:selected":function(e){t.selected=e},"update:options":function(e){t.options=e},edit:t.onEdit}}),t._v(" "),n("material-form",{attrs:{id:t.id,matters:t.matters},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}}),t._v(" "),n("material-delete",{attrs:{selected:t.selected},on:{"update:selected":function(e){t.selected=e}},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}})],1)}),[],!1,null,null,null);e.default=d.exports},"0bOp":function(t,e,n){"use strict";var r=n("LvDl"),i=n("LEfl"),a=n("L2JU");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u={mixins:[i.a],props:{value:{type:Array,default:function(){return[]}},items:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){}}},computed:l(l({},Object(a.d)("app",["size"])),{},{selected:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}),methods:{selectedIndex:function(t){return this.selected.findIndex((function(e){return e.id===t.id}))},toggleSelect:function(t){if(t.authorized){var e=this.selectedIndex(t);e>-1?this.selected.splice(e,1):this.selected.splice(0,1,t)}}}},c=n("KHd+"),d=Object(c.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{attrs:{align:"center",justify:"center",dense:""}},t._l(t.items,(function(e){return n("v-col",{key:e.id,attrs:{cols:"12"}},[n("v-card",{directives:[{name:"longclick",rawName:"v-longclick",value:function(){return t.toggleSelect(e)},expression:"() => toggleSelect(item)"}],key:e.id,attrs:{dark:t.dark,tile:""},on:{click:function(n){t.selected.length>0&&t.toggleSelect(e)}}},[t.selectedIndex(e)>-1?n("v-progress-linear",{attrs:{value:100,dark:t.dark,color:"primary"}}):t._e(),t._v(" "),t._t("default",null,{item:e})],2)],1)})),1)}),[],!1,null,null,null).exports,f={mixins:[i.a],props:{value:{type:Array,default:function(){return[]}},headers:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){}},items:{type:Array,default:function(){return[]}},total:{type:Number,default:0},loading:{type:Boolean,default:!1}},methods:{getItemValue:function(t,e){return Object(r.get)(t,e.value)}}},p=Object(c.a)(f,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-data-table",{staticClass:"elevation-1",attrs:{value:t.value,options:t.options,headers:t.headers,items:t.items,"server-items-length":t.total,loading:t.loading,dense:t.dense,dark:t.dark,"footer-props":{itemsPerPageText:"Rows"},"selectable-key":"authorized","sort-by":"updated_at","single-select":"","sort-desc":"","show-select":"","must-sort":""},on:{input:function(e){return t.$emit("input",e)},"update:options":function(e){return t.$emit("update:options",e)}},scopedSlots:t._u([t._l(t.headers,(function(e){return{key:"item."+e.value,fn:function(n){var r=n.item;return[t._t("item."+e.value,[t._v("\n            "+t._s(t.getItemValue(r,e))+"\n        ")],{item:r})]}}}))],null,!0)})}),[],!1,null,null,null).exports,m={mixins:[i.a],props:{search:{type:String,defautl:""}},computed:{text:function(){return this.search?'No item related to "'.concat(this.search,'".'):"Oops, no data found."}}},v=Object(c.a)(m,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-alert",{attrs:{dark:this.dark,type:"info",border:"left",outlined:""}},[e("span",[this._v(this._s(this.text))])])}),[],!1,null,null,null).exports,h={mixins:[i.a],props:{selected:{type:Array,default:function(){return[]}},headers:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){}},items:{type:Array,default:function(){return[]}},total:{type:Number,default:0},loading:{type:Boolean,default:!1}},components:{NoContent:v,TheDataCard:d,TheDataTable:p},methods:{updateOptions:function(t){Object(r.isEqual)(this.options,t)||this.$emit("update:options",t)}}},b=Object(c.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("fragment",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.items.length>0,expression:"items.length > 0"}]},[t.mobile?n("the-data-card",{attrs:{value:t.selected,options:t.options,items:t.items},on:{input:function(e){return t.$emit("update:selected",e)},"update:options":t.updateOptions},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item;return[t._t("card",null,{item:n})]}}],null,!0)}):n("the-data-table",{attrs:{value:t.selected,options:t.options,items:t.items,headers:t.headers,total:t.total,loading:t.loading},on:{input:function(e){return t.$emit("update:selected",e)},"update:options":t.updateOptions},scopedSlots:t._u([t._l(t.headers,(function(e){return{key:"item."+e.value,fn:function(n){var r=n.item;return[t._t("item."+e.value,null,{item:r})]}}}))],null,!0)})],1),t._v(" "),n("no-content",{directives:[{name:"show",rawName:"v-show",value:0==t.items.length,expression:"items.length == 0"}],attrs:{search:t.options.search}})],1)}),[],!1,null,null,null);e.a=b.exports},"1rD6":function(t,e,n){"use strict";n.r(e);var r=n("LvDl"),i=n("y1zv"),a=n("LEfl"),o=n("MMcg");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={mixins:[a.a],props:{value:{type:Boolean,default:!1},id:{type:Number,default:-1},matters:{type:Array,default:function(){return[]}}},components:{TheDialogForm:o.a},data:function(){return{model:"material",fetching:!1,form:this.$inertia.form(s({_method:"PUT"},Object(r.cloneDeep)(i.b)),{bag:"material_form",resetOnSuccess:!1})}},computed:{creating:function(){return-1===this.id},disabled:function(){return this.form.processing||this.fetching},readonly:function(){return!(this.creating||this.form.authorized)},formTitle:function(){if(!this.readonly){var t=this.creating?"New":"Edit",e=this.model.toUpperCase();return"".concat(t," ").concat(e)}},dialog:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{fetch:function(){var t=this;this.fetching=!0,this.$axios.get(route("material.show",this.id).url()).then((function(e){var n=e.data;Object(r.assign)(t.form,Object(r.pick)(n,Object(r.keys)(i.b)))})).catch((function(e){return t.dialog=!1})).then((function(){return t.fetching=!1}))},reset:function(){delete this.$page.errorBags.material_form,Object(r.assign)(this.form,i.b)},method:function(){var t="post",e=route("material.store");return this.creating||(t="put",e=route("material.update",this.id)),{url:e,method:t}},save:function(){var t=this,e=this.method(),n=e.url,r=e.method;this.form._method=r,this.form.post(n,{preserveScroll:!0,onSuccess:function(e){t.form.hasErrors()||(t.dialog=!1)}})}},watch:{value:{immediate:!0,handler:function(t){t?(this.creating||this.fetch(),this.form.change_password=this.creating):this.reset()}}}},d=n("KHd+"),f=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("the-dialog-form",{attrs:{title:t.formTitle,disabled:t.disabled,readonly:t.readonly},on:{submit:t.save},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-form",{attrs:{disabled:t.disabled||t.readonly},on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[n("v-text-field",{attrs:{"error-messages":t.form.error("name"),success:!!t.form.error("name"),autofocus:!t.mobile,label:"Material name",type:"text",hint:"This should be unique name","persistent-hint":"",outlined:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),n("v-autocomplete",{attrs:{items:t.matters,"error-messages":t.form.error("matter_id"),success:!!t.form.error("matter_id"),"item-text":"name","item-value":"id",label:"Matter",hint:"Category for this material",chips:"","persistent-hint":"",outlined:""},model:{value:t.form.matter_id,callback:function(e){t.$set(t.form,"matter_id",e)},expression:"form.matter_id"}}),t._v(" "),t.readonly?t._e():n("v-btn",{staticClass:"d-none",attrs:{disabled:t.disabled,type:"submit"}})],1)],1)}),[],!1,null,null,null);e.default=f.exports},MMcg:function(t,e,n){"use strict";var r={mixins:[n("LEfl").a],props:{value:{type:Boolean,default:!1},title:{type:String,default:"Detail Item"},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},width:{type:[String,Number],default:600},tabs:{type:Array,default:function(){return[]}},tab:{type:Number,default:0}},data:function(){return{fullscreen:!0}},computed:{cardTextHeight:function(){if(!this.mobile&&!this.fullscreen)return"max-height: 500px;"},iconFullscreen:function(){return this.fullscreen?"mdi-fullscreen-exit":"mdi-fullscreen"}}},i=n("KHd+"),a=Object(i.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:t.value,fullscreen:t.mobile||t.fullscreen,"max-width":t.width,dark:t.dark,persistent:"",scrollable:""},on:{input:function(e){return t.$emit("input",e)}}},[n("v-card",{attrs:{loading:t.disabled}},[n("v-card-title",[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12",sm:"5"}},[n("span",{staticClass:"headline"},[t._v(t._s(t.title))]),t._v(" "),t.mobile?t._e():n("v-btn",{attrs:{icon:""},on:{click:function(e){t.fullscreen=!t.fullscreen}}},[n("v-icon",[t._v(t._s(t.iconFullscreen))])],1)],1),t._v(" "),t.tabs.length>0?n("v-col",{attrs:{cols:"12",sm:"7"}},[n("v-tabs",{attrs:{value:t.tab,"background-color":"transparent","active-class":"font-weight-bold",height:"30","hide-slider":"",right:""},on:{change:function(e){return t.$emit("update:tab",e)}}},t._l(t.tabs,(function(e){return n("v-tab",{key:e},[t._v("\n                            "+t._s(e)+"\n                        ")])})),1)],1):t._e()],1)],1),t._v(" "),n("v-divider"),t._v(" "),n("v-card-text",{staticClass:"py-5",style:t.cardTextHeight},[t.tabs.length>0?n("v-tabs-items",{attrs:{value:t.tab,dark:t.dark,touchless:""},on:{input:function(e){return t.$emit("update:tab",e)}}},t._l(t.tabs,(function(e){return n("v-tab-item",{key:e},[t._t(e)],2)})),1):t._t("default")],2),t._v(" "),n("v-divider"),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$emit("input",!1)}}},[t._v("\n                Cancel\n            ")]),t._v(" "),n("v-spacer"),t._v(" "),t.readonly?t._e():n("v-btn",{attrs:{disabled:t.disabled,color:"primary"},on:{click:function(e){return t.$emit("submit")}}},[t._v("\n                Save\n            ")])],1)],1)],1)}),[],!1,null,null,null);e.a=a.exports},Wxha:function(t,e,n){"use strict";var r={mixins:[n("LEfl").a],props:{value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{cardTextHeight:function(){return this.mobile?"":"max-height: 400px;"}}},i=n("KHd+"),a=Object(i.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:t.value,fullscreen:t.mobile,dark:t.dark,"max-width":"500",persistent:"",scrollable:""},on:{input:function(e){return t.$emit("input",e)}}},[n("v-card",{attrs:{loading:t.disabled}},[n("v-card-title",[t._t("title")],2),t._v(" "),n("v-divider"),t._v(" "),n("v-card-text",{staticClass:"pt-2",style:t.cardTextHeight},[t._t("content")],2),t._v(" "),n("v-divider"),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{color:"darken-1",text:""},on:{click:function(e){return t.$emit("input",!1)}}},[t._v("\n                Cancel\n            ")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{disabled:t.disabled,color:"red"},on:{click:function(e){return t.$emit("confirmed")}}},[n("span",{staticClass:"white--text"},[t._v("Yes, sure")])])],1)],1)],1)}),[],!1,null,null,null);e.a=a.exports},gfFP:function(t,e,n){"use strict";n.r(e);var r=n("L2JU"),i=n("LEfl"),a=n("xgmY"),o=n("Wxha");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={mixins:[i.a],props:{value:{type:Boolean,default:!1},selected:{type:Array,default:function(){return[]}}},components:{TheDialogConfirmation:o.a},data:function(){return{model:"material",form:this.$inertia.form({_method:"DELETE",ids:[]},{bag:"material_delete"})}},computed:{dialog:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:s(s({},Object(r.c)("app",[a.b])),{},{remove:function(){var t=this;this.form.ids=this.selected.map((function(t){return t.id}))[0],this.form.post(route("material.destroy",this.form.ids),{preserveScroll:!0,onSuccess:function(e){t.form.hasErrors()?t.SET_MESSAGE({type:"error",text:t.form.error("ids")}):(t.$emit("update:selected",[]),t.dialog=!1)}})}})},d=n("KHd+"),f=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("the-dialog-confirmation",{attrs:{disabled:t.form.processing},on:{confirmed:t.remove},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Delete confirmation")]},proxy:!0},{key:"content",fn:function(){return[n("p",[t._v("Are you sure to delete?")]),t._v(" "),t._l(t.selected,(function(e){return n("v-chip",{key:e.id,staticClass:"ma-1"},[t._v("\n            "+t._s(e.name)+"\n        ")])}))]},proxy:!0}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})}),[],!1,null,null,null);e.default=f.exports},tVlB:function(t,e,n){"use strict";n.r(e);var r=n("LvDl"),i=n("LEfl"),a=n("0bOp"),o={mixins:[i.a],props:{selected:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){}},items:{type:Array,default:function(){return[]}},total:{type:Number,default:0}},data:function(){return{headers:[{text:"Name",value:"name"},{text:"Matter",value:"matter.name"},{text:"Formula",value:"formulas_count",align:"center"},{text:"Creator",value:"user.name"},{text:"UpdatedAt",value:"updated_at"}],fetching:!1}},components:{TheData:a.a},methods:{chip:function(t){return t.authorized?"primary":"grey"},edit:function(t){this.$emit("edit",t.id)}},watch:{options:{handler:Object(r.debounce)((function(t){var e=this;this.$inertia.replace(route(route().current(),Object(r.omit)(t,["groupBy","groupDesc","mustSort","multiSort"])),{preserveScroll:!0,onStart:function(t){return e.fetching=!0},onFinish:function(){return e.fetching=!1},only:["status","items","total"]})}),500)}}},l=n("KHd+"),s=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("the-data",{attrs:{selected:t.selected,options:t.options,headers:t.headers,total:t.total,items:t.items,loading:t.fetching},on:{"update:selected":function(e){return t.$emit("update:selected",e)},"update:options":function(e){return t.$emit("update:options",e)}},scopedSlots:t._u([{key:"item.name",fn:function(e){var r=e.item;return[n("v-chip",{attrs:{color:t.chip(r),small:t.dense,dark:""},on:{click:function(e){return t.edit(r)}}},[t._v("\n            "+t._s(r.name)+"\n        ")])]}},{key:"item.updated_at",fn:function(e){var n=e.item;return[t._v("\n        "+t._s(t._f("moment")(n.updated_at,"from"))+"\n    ")]}},{key:"card",fn:function(e){var r=e.item;return[n("v-btn",{attrs:{color:t.chip(r),outlined:"",absolute:"",right:"",small:"",tile:"",top:""}},[t._v("\n            SOMETHING\n        ")]),t._v(" "),n("v-card-text",{on:{click:function(e){return t.edit(r)}}},[n("div",{staticClass:"overline"},[t._v("\n                "+t._s(t._f("moment")(r.updated_at,"from"))+"\n            ")]),t._v(" "),n("div",{staticClass:"overline"},[t._v("\n                "+t._s(r.user.name)+"\n            ")]),t._v(" "),n("div",{staticClass:"subtitle-2 font-weight-bold"},[t._v("\n                "+t._s(r.name)+"\n            ")])])]}}],null,!0)})}),[],!1,null,null,null);e.default=s.exports}}]);